# This is a basic workflow to help you get started with Actions

name: CI-CD-Pipeline-to-AWS-ElasticBeastalk
env:
  EB_PACKAGE_S_BUCKET_NAME: "elasticbeanstalk-eu-central-1-227451225657"
  EB_APPLICATTION_NAME    : "MyFlask-php"
  EB_ENVIRONMENT_NAME     : "MyflaskPhp-env"
  DEPLOY_PAGKAGE_NAME     : "flask_app_${{ github.sha }}.zip"
  AWS_REGION_NAME         : "eu-central-1" 

# Controls when the action will run. 
on:
  # Triggers the workflow on push or pull request events but only for the main branch
  push:
    branches:
     - master
 
 

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  my_ci_part:
   runs-on: ubuntu-latest

   steps:
   - name: Git clone our repo 
      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
     uses: actions/checkout@v1

      # Runs a single command using the runners shell
   - name: Create ZIP deployment packege
     run : zip -r ${{ env.DEPLOY_PAGKAGE_NAME }} ./ -x *.git*

      
